// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package wire

import (
	"gongfu/internal/client"
	"gongfu/internal/config"
	"gongfu/internal/http"
	"gongfu/internal/http/admin"
	"gongfu/internal/http/controller"
	"gongfu/internal/http/middlewares"
	"gongfu/internal/service"
	"gongfu/internal/service/store"
)

// Injectors from wire.go:

func NewApp(config2 *config.Config) (*http.Route, error) {
	officialAccount, err := client.NewOfficialAccount(config2)
	if err != nil {
		return nil, err
	}
	cmdable, err := client.NewRedis(config2)
	if err != nil {
		return nil, err
	}
	authCode := service.NewAuthCodeService(config2, cmdable)
	token := service.NewTokenService(config2)
	db, err := client.NewDB(config2)
	if err != nil {
		return nil, err
	}
	storeStore := store.NewStore(db)
	storage := service.NewStorageService(config2)
	wechat, err := service.NewWechat(config2)
	if err != nil {
		return nil, err
	}
	useCase := controller.NewController(config2, officialAccount, authCode, token, storeStore, storage, wechat)
	courseService := service.NewCourseService(storeStore, db, officialAccount)
	adminUseCase := admin.NewUseCase(storeStore, storage, courseService)
	middlewaresMiddlewares := middlewares.NewMiddlewares(token, storeStore)
	route := http.NewRoute(config2, officialAccount, useCase, adminUseCase, middlewaresMiddlewares)
	return route, nil
}
