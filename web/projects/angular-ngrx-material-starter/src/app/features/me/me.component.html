<div *ngIf="!user" class="d-flex align-items-center h-100">
  <div class="container">
    <div class="row m-1">
      <button mat-raised-button color="primary" (click)="toLoginPage()" class="col align-content-center">登录
      </button>
    </div>
    <div class="row m-1 mt-3">
      <button mat-raised-button color="primary" (click)="toWeChatLogin()" class="col align-content-center">微信授权登录
      </button>
    </div>
  </div>
</div>
<div *ngIf="user && !user?.phone" class="container">
  <div class="row justify-content-center p-1">
    <button mat-raised-button color="primary" (click)="toBindPhonePage()" class="col align-content-center">绑定手机号后开始使用
    </button>
  </div>
</div>
<div *ngIf="user">
  <mat-card>
    <mat-card-header>
      <img
        mat-card-avatar
        [src]="user?.headimgurl"
        alt="head_img" class="user_header"/>
      <mat-card-title>{{ user?.nickname }}</mat-card-title>
      <mat-card-subtitle>手机号：{{ user?.phone }}</mat-card-subtitle>
      <mat-card-subtitle>
        角色：
        <ng-template [ngIf]="user?.role === 'admin'">{{'管理员'}}</ng-template>
        <ng-template [ngIf]="user?.role === 'user'">{{'用户'}}</ng-template>
        <ng-template [ngIf]="user?.role === 'coach'">{{'教练'}}</ng-template>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content>
      <mat-list *ngIf="user?.role === 'coach'">
        <mat-list-item>
          <mat-icon matListIcon>
            <fa-icon icon="user"></fa-icon>
          </mat-icon>
          <div mat-line>{{'教练级别: ' + displayLevel(coach?.level)}}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListIcon>
            <fa-icon icon="building"></fa-icon>
          </mat-icon>
          <div mat-line>{{'任教单位: ' + coach?.teachingSpace}}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListIcon>
            <fa-icon icon="address-book"></fa-icon>
          </mat-icon>
          <div mat-line>{{'任教年限: ' + coach?.teachingAge}}</div>
        </mat-list-item>
        <mat-list-item>
          <mat-icon matListIcon>
            <fa-icon icon="list"></fa-icon>
          </mat-icon>
          <div mat-line>{{'任教经历: '}}</div>
          <div mat-line *ngFor="let e of coach?.teachingExperiences">
            <div class="ms-3">{{'- ' + e}}</div>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
  <mat-card class="mt-3 p-0">
    <mat-card-content>
      <mat-selection-list [multiple]="false">
        <mat-list-option>
          <mat-icon matListIcon>
            <fa-icon icon="check"></fa-icon>
          </mat-icon>
          <div matLine routerLink="/check-in">去打卡</div>
        </mat-list-option>
        <mat-divider></mat-divider>
        <mat-list-option>
          <mat-icon matListIcon>
            <fa-icon icon="bolt"></fa-icon>
          </mat-icon>
          <div matLine routerLink="/check-in-histories" [queryParams]="{userID: user?.id}">我的历史打卡</div>
        </mat-list-option>
        <mat-divider></mat-divider>
        <mat-list-option>
          <mat-icon matListIcon>
            <fa-icon icon="calendar"></fa-icon>
          </mat-icon>
          <div matLine routerLink="/check-in-top">打卡榜单</div>
        </mat-list-option>
        <mat-divider></mat-divider>
        <mat-list-option>
          <mat-icon matListIcon>
            <fa-icon icon="wrench"></fa-icon>
          </mat-icon>
          <div matLine routerLink="/setting">设置</div>
        </mat-list-option>
        <mat-divider></mat-divider>
      </mat-selection-list>
    </mat-card-content>
  </mat-card>
</div>
