<div class="container">
  <div class="row mt-1">
    <div class="col-md-12">
      <h2 style="text-align: center" *ngIf="isToday()">
        今日打卡榜单
      </h2>
      <p style="text-align: center" *ngIf="isToday()">
        凌晨5点后算下一天
      </p>
      <h2 style="text-align: center" *ngIf="!isToday()">
        {{date}} 打卡榜单
      </h2>
    </div>
    <div class="col-md-12">
      <mat-form-field style="width: 100%" appearance="legacy">
        <mat-label>排行榜日期</mat-label>
        <input matInput [matDatepicker]="picker" (click)="picker.open()"
               [formControl]="selectDate">
        <mat-datepicker-toggle matSuffix [for]="picker">
          <mat-icon matDatepickerToggleIcon>
            <fa-icon icon="arrow-down"></fa-icon>
          </mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #picker touchUi></mat-datepicker>
      </mat-form-field>
      <button mat-raised-button (click)="clickToday()" *ngIf="!isToday()">查看今日</button>
    </div>
  </div>
  <div class="row" rtl>
    <div class="col-md-12 col-lg-6 p-1">
      <ng-container *ngIf="checkInList && checkInList.length > 0">
        <mat-card
          *ngFor="let checkIn of checkInList; index as i">
          <mat-card-header>
            <img
              mat-card-avatar
              [src]="checkIn?.headImgUrl"
            />
            <mat-card-title>Top {{i + 1}}</mat-card-title>
            <mat-card-subtitle>@{{checkIn?.userName}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p *ngIf="checkIn?.createdAt">打卡时间: {{(checkIn.createdAt || 0) * 1000 | date: 'shortTime'}}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button routerLink="/check-in/{{checkIn?.key}}">查看</button>
          </mat-card-actions>
        </mat-card>
      </ng-container>
      <ng-container *ngIf="!checkInList || checkInList.length == 0">
        <h2 style="text-align: center">未有数据产生</h2>
      </ng-container>
    </div>
  </div>
</div>
