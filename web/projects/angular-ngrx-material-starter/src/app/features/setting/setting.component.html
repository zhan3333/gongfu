<mat-card class="m-1">
  <div class="text-center" matRipple>
    <img  [src]="user?.headimgurl" alt="head_img" class="head_img" (click)="selectHeadImage()">
    <div class="mt-1">@{{user?.nickname}}</div>
  </div>
</mat-card>
<input type="file" [style.display]="'none'"
       (change)="onFileSelected($event)" #fileUpload accept="image/*">

<div class=" my-2 px-1">
  <button mat-raised-button color="primary" class="w-100" (click)="selectHeadImage()">{{'更改头像'}}</button>
</div>

<mat-card class="m-1">
  <mat-card-header>
    <mat-card-title>{{'编辑个人信息'}}</mat-card-title>
  </mat-card-header>
  <form [formGroup]="userForm" class="container">
    <mat-form-field appearance="legacy" class="w-100 row">
      <mat-label>{{'输入新的昵称'}}</mat-label>
      <input matInput formControlName="nickname">
    </mat-form-field>
    <div class="row justify-content-end">
      <div class="col-auto">
        <button mat-raised-button color="accent" (click)="saveUserForm()"
                [disabled]="userForm.invalid || loading">{{'保存'}}</button>
      </div>
    </div>

  </form>
</mat-card>

<mat-card *ngIf="isAdmin()">
  <mat-form-field appearance="fill">
    <mat-label>设置当前角色</mat-label>
    <mat-select [formControl]="curRole">
      <mat-option value="admin">管理员</mat-option>
      <mat-option value="coach">教练</mat-option>
      <mat-option value="user">用户</mat-option>
    </mat-select>
  </mat-form-field>
</mat-card>
